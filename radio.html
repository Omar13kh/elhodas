<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الهدي</title>
    <!-- Fonts Links Are in Description -->
    <!-- thuluth decorated Font-->
    <!-- <link rel="stylesheet" type="text/css" href="https://www.fontstatic.com/f=thuluth-decorated" /> -->
    <!-- Cairo Font-->
    <!-- <link rel="stylesheet" type="text/css" href="https://www.fontstatic.com/f=cairo-bold" /> -->
    <!-- Font AWesome -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"/> -->
    <!-- Main Style -->
    <link rel="stylesheet" href="./fonts/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="./images/icon.icon.png">
</head>

<body>
    <header class="header">
        <div class="container">
            <div class="logo"><a href="./index.html">الهدي</a></div>
            <ul>
                <li class="active"><a href="#main">الصفحة الرئيسية</a></li>
                <li><a href="#hadith">احاديث</a></li>
                <li><a href="#lectures">محاضرات</a></li>
                <li><a href="#quran">الْقُرْآن الْكَرِيْم</a></li>
                <li><a href="#pray">أوقات الصلاة</a></li>
                <li><a href="./op.html">تسابيح</a></li>
                <li><a href="./islam.html">استمع</a></li>
                <li><a href="./doak.html">ادعية</a></li>
                <li><a href="#footer">تواصل معنا</a></li>
            </ul>
            <div class="bars">
                <i class="fas fa-bars"></i>
            </div>
        </div>

    </header>
    <!-- Main Section -->
    <section class="main" id="main">
        <div class="container">
            <div class="title">
                <h2>
                    مرحبا بك في
                    <br>
                    موقع الهدي الإسلامي
                </h2>
                <button class="btn">
                    إبدأ التصفح
                    <i class="fas fa-caret-left"></i>
                </button>
            </div>
        </div>
    </section>
    <style>
        #radio {
            margin-top: 2rem;
        }
    </style>
    <section id="radio">
    <h3>الاذاعة مباشر من القاهرة</h3>
    <center><audio controls autoplay id="ii">  <source rel="noreferrer nofollow" src="https://stream.radiojar.com/8s5u5tpdtwzuv" type="audio/mp3">Your browser does not support the audio element.</audio></center> 
</section>
    <!-- End OF Pray Time Section -->
    <!-- Footer -->
    <section class="footer" id="footer">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
            <path fill-opacity="1"
                d="M0,32L48,42.7C96,53,192,75,288,69.3C384,64,480,32,576,42.7C672,53,768,107,864,106.7C960,107,1056,53,1152,48C1248,43,1344,85,1392,106.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z">
            </path>
        </svg>
        <!-- <center><p class="ops" align="center">جميع حقوق النشر محفوظة&copy; لدي omar khairy </p></center>    -->
        <div class="social">
            <a href="https://www.facebook.com/profile.php?id=100060981104372"><i class="fab fa-facebook"></i></a>

            <a href=""><i class="fab fa-instagram"></i></a>
            <a href=""><i class="fab fa-linkedin"></i></a>
            <a href=""><i class="fab fa-twitter"></i></a>
            <a href=""><i class="fab fa-telegram-plane"></i></a>
            <a href=""><i class="fab fa-youtube"></i></a>
        </div>
    </section>
    <!-- End Footer -->
    <!-- Pop Up -->
    <div class="surah-popup ">
        <div class="close-popup">
            <i class="fas fa-times"></i>
        </div>

        <div class="ayat" style=" font-family:'cairo-bold';">

        </div>
    </div>
    <!-- Scroll Top -->
    <div class="scrollBtn">
        <i class="fas fa-angle-double-up"></i>
    </div>
    <!-- Js File-->
    <script src="./fonts/all.min.js"></script>
     
<script>
    //Explore button 
let exploreBtn = document.querySelector('.title .btn'),
    HadithSection = document.querySelector('.hadith');
exploreBtn.addEventListener('click',()=>{
    HadithSection.scrollIntoView({
        behavior : "smooth"
    })
})
let fixedNav = document.querySelector('.header'),
     scrollBtn = document.querySelector('.scrollBtn');
window.addEventListener("scroll",()=>{
    window.scrollY > 100 ? fixedNav.classList.add('active') : fixedNav.classList.remove('active');
    window.scrollY > 500 ?  scrollBtn.classList.add('active') : scrollBtn.classList.remove('active') ;
})
scrollBtn.addEventListener('click',()=>{
    window.scrollTo({
        top : 0,
        behavior : "smooth"
    })
})
//Hadith Changer 
let hadithContainer = document.querySelector('.hadithContainer'),
    next = document.querySelector('.buttons .next'),
    prev = document.querySelector('.buttons .prev'),
    number = document.querySelector('.buttons .number');
    let hadithIndex = 0;
    HadithChanger();
    function  HadithChanger()
    {
        fetch("https://hadis-api-id.vercel.app/hadith/abu-dawud?page=2&limit=300")
        .then(response => response.json())
        .then(data =>{
    
            let Hadiths = data.items;
            changeHadith();
            next.addEventListener('click',()=>{
                hadithIndex == 299 ? hadithIndex = 0 : hadithIndex++;
                changeHadith()
            })
            prev.addEventListener('click',()=>{
                hadithIndex == 0 ? hadithIndex = 299 : hadithIndex--;
                changeHadith()
            })
            function changeHadith()
            {
                hadithContainer.innerText = Hadiths[hadithIndex].arab;
                number.innerText = `300 - ${hadithIndex + 1}`
            }  
        })
    }

// Link Sections
let sections = document.querySelectorAll("section"),
    links = document.querySelectorAll('.header ul li');
links.forEach(link => {
    link.addEventListener('click',()=>{
        document.querySelector('.header ul li.active').classList.remove('active');
        link.classList.add('active');
        let target = link.dataset.filter;
        sections.forEach(section=>{
            if(section.classList.contains(target))
            {
                section.scrollIntoView({
                    behavior : "smooth"
                })
            }
        })
    })
})
//Surah Api
let SurahsContainer = document.querySelector('.surhasContainer');
getSurahs()
function getSurahs()
{
    //fetch Surahs meta data {Name of SuraHS}
    fetch("http://api.alquran.cloud/v1/meta")
    .then(response => response.json())
    .then(data=>{
        let surahs = data.data.surahs.references;
        let numberOfSurahs = 114;
        SurahsContainer.innerHTML = "";
        for (let i = 0; i < numberOfSurahs ; i++) {
            
            SurahsContainer.innerHTML += 
                `
                    <div class="surah">
                        <p>${surahs[i].name}</p>
                        <p>${surahs[i].englishName}</p>
                    </div>
                `
        }
        let SurahsTitels = document.querySelectorAll('.surah');
        let popup = document.querySelector('.surah-popup'),
            AyatContainer = document.querySelector('.ayat');
        SurahsTitels.forEach((title,index)=>{
            title.addEventListener('click',()=>{
                fetch(`http://api.alquran.cloud/v1/surah/${index + 1}`)
                .then(response => response.json())
                .then(data=>{
                    AyatContainer.innerHTML = "";
                    let Ayat = data.data.ayahs;
                    Ayat.forEach(aya=>{
                        popup.classList.add('active');
                        AyatContainer.innerHTML += `
                            <p>(${aya.numberInSurah}) - ${aya.text}</p>
                        `
                    })
                    
                })
            })
        })
        let closePopup = document.querySelector('.close-popup');
        closePopup.addEventListener('click',()=>{
            popup.classList.remove('active');
        })
    })   
}
//PrayTime Api
let cards = document.querySelector('.cards');
getPrayTimes();
function getPrayTimes()
{
    fetch("http://api.aladhan.com/v1/timingsByCity?city=cairo&country=egypt&method=8")
    .then(response => response.json())
    .then(data =>{
        let times = data.data.timings;
        cards.innerHTML = "";
        for (let time in times)
        {
            
            cards.innerHTML+= 
            `
                <div class="card">
                    <div class="circle">
                        <svg>
                            <Circle cx="100" cy = "100" r ="100"></Circle>
                        </svg>
                        <div class="praytime">${times[time]}</div>
                    </div>
                    <p>${time}</p>
                </div>
            `
        }
    })
}
//Active SideBar
let bars = document.querySelector('.bars'),
    SideBar = document.querySelector('.header ul');
bars.addEventListener('click',()=>{
    SideBar.classList.toggle("active");
})
       setInterval(()=>{
           const time = document.querySelector(".display #time");
           let date = new Date();
           let hours = date.getHours();
           let minutes = date.getMinutes();
           let seconds = date.getSeconds();
           let day_night = "AM";
           if(hours > 12){
             day_night = "PM";
             hours = hours - 12;
           }
           if(seconds < 10){
             seconds = "0" + seconds;
           }
           if(minutes < 10){
             minutes = "0" + minutes;
           }
           if(hours < 10){
             hours = "0" + hours;
           }
           time.textContent = hours + ":" + minutes + ":" + seconds + " "+ day_night;
         });
</script>
</body>